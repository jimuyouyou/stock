<html>

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.15/lodash.core.min.js"></script>
  <style>
    table {
      border-collapse: collapse;
    }

    td {
      border: 1px solid black;
    }

    .sorting {
      color: blue;
      cursor: pointer;
    }
  </style>
</head>

<body onload="showDefaultTable();">
  <div id="modelPeformance"></div>
  <hr>
  <div id='tableContainer'></div>

</body>
<script>
  const H100_WEIGHTS = ['RandomForestClassifer', 'XGBClassifier'];
  let featureArray = [];

  const fs = [{
    model: 'SGDClassifer',
    performance: 15.3,
    up: 0.589,
    down: 0.517,
    data: [['2h_CDLMATHOLD', 0.0], ['2h_CDLDOJI', 0.0], ['2h_CDLLADDERBOTTOM', 0.0], ['2h_CDLDRAGONFLYDOJI', 0.0], ['2h_CDLGRAVESTONEDOJI', 0.0], ['2h_CDLTAKURI', 0.0], ['2h_CDLENGULFING', 0.0], ['2h_CDLKICKING', 0.0], ['2h_CDLKICKINGBYLENGTH', 0.0], ['2h_HT_SINE', 0.0], ['2h_HT_TRENDMODE', 0.0], ['2h_CDL3OUTSIDE', 0.0], ['2h_CDLDARKCLOUDCOVER', 0.0], ['2h_DX', 0.0], ['2h_CDLMORNINGSTAR', 0.0], ['2h_CDLINNECK', 0.0], ['2h_CDLCOUNTERATTACK', 0.0], ['2h_CDL3STARSINSOUTH', 0.0], ['2h_CDLEVENINGDOJISTAR', 0.0], ['2h_CDLUPSIDEGAP2CROWS', 0.0], ['2h_CDLHARAMI', 0.0], ['2h_CDLABANDONEDBABY', 0.0], ['12h_RSI', 0.0], ['12h_CDLHIKKAKE', 0.0], ['12h_CDLMATHOLD', 0.0], ['12h_CDLBREAKAWAY', 0.0], ['12h_CDLDOJI', 0.0], ['12h_TRIX', 0.0], ['12h_CDLLADDERBOTTOM', 0.0], ['12h_CDLRISEFALL3METHODS', 0.0], ['12h_CDLHANGINGMAN', 0.0], ['12h_AROONOSC', 0.0], ['12h_MFI', 0.0], ['12h_CDLCONCEALBABYSWALL', 0.0], ['12h_CDLHAMMER', 0.0], ['12h_CDLLONGLINE', 0.0], ['12h_CDLLONGLEGGEDDOJI', 0.0], ['12h_CDL3LINESTRIKE', 0.0], ['12h_CDLSTALLEDPATTERN', 0.0], ['12h_CDLSHORTLINE', 0.0], ['12h_HT_DCPHASE', 0.0], ['12h_CDL3BLACKCROWS', 0.0], ['12h_CDLKICKING', 0.0], ['12h_CDLKICKINGBYLENGTH', 0.0], ['12h_HT_TRENDMODE', 0.0], ['12h_CDLIDENTICAL3CROWS', 0.0], ['12h_CDLDARKCLOUDCOVER', 0.0], ['12h_ADX', 0.0], ['12h_DX', 0.0], ['12h_CDLINNECK', 0.0], ['12h_CDLONNECK', 0.0], ['12h_CDLBELTHOLD', 0.0], ['12h_CDLCOUNTERATTACK', 0.0], ['12h_CDL3STARSINSOUTH', 0.0], ['12h_CDLUPSIDEGAP2CROWS', 0.0], ['12h_CDLTHRUSTING', 0.0], ['12h_CDLABANDONEDBABY', 0.0], ['12h_CDLHIGHWAVE', 0.0], ['12h_CDLSTICKSANDWICH', 0.0], ['12h_CDLSEPARATINGLINES', 0.003756276823238492], ['12h_HT_SINE', 0.009257156593133383], ['2h_CDLGAPSIDESIDEWHITE', -0.01386584544438379], ['2h_CDLSTICKSANDWICH', -0.01531186564737108], ['2h_CDLINVERTEDHAMMER', -0.030558377360614054], ['12h_CDLDOJISTAR', 0.033914071521249554], ['12h_STOCHF', 0.03519306895909331], ['12h_CDL3INSIDE', 0.03853514170349506], ['2h_CDLHIKKAKE', 0.04590047865208033], ['12h_CDLXSIDEGAP3METHODS', 0.05064224529817387], ['12h_CDLMARUBOZU', 0.055460647430801126], ['12h_CDLSPINNINGTOP', -0.06041224990932476], ['2h_CDLRICKSHAWMAN', -0.06076636116761273], ['2h_CDLSPINNINGTOP', -0.06787611729649656], ['12h_STOCHRSI', -0.07045724225824293], ['2h_CDLSHORTLINE', -0.07404094923707907], ['12h_CDLCLOSINGMARUBOZU', -0.074255704389433], ['2h_CDLSEPARATINGLINES', -0.08227851866376663], ['2h_CDLEVENINGSTAR', -0.08238535678322681], ['2h_CDLHOMINGPIGEON', 0.08264217907238317], ['2h_CDLSHOOTINGSTAR', -0.09208780177271089], ['2h_CDLADVANCEBLOCK', 0.09297138760692021], ['2h_CDLTRISTAR', -0.09387170783019683], ['2h_CDLCONCEALBABYSWALL', 0.09758183348504716], ['2h_CDL3LINESTRIKE', -0.10277753600488626], ['2h_CDLBREAKAWAY', -0.12278690620708829], ['12h_HT_PHASOR', 0.12503369133663547], ['2h_CDLHANGINGMAN', 0.12752582599097315], ['2h_CDL3INSIDE', 0.13143101581114003], ['2h_CDLCLOSINGMARUBOZU', -0.13506220698098825], ['12h_WILLR', 0.1351294605645096], ['12h_CDL3WHITESOLDIERS', 0.136109931954933], ['2h_CDLHIGHWAVE', 0.1381192464563186], ['12h_CDLADVANCEBLOCK', 0.14998396585134216], ['2h_CDLUNIQUE3RIVER', 0.1523513458674521], ['2h_CDL3WHITESOLDIERS', -0.15280504002741843], ['2h_CDLHAMMER', -0.1563517994210168], ['2h_TRIX', -0.1576057780301345], ['2h_AROONOSC', 0.1647961279542933], ['12h_CDLENGULFING', -0.16554454858387255], ['12h_CDL3OUTSIDE', -0.17142153987525469], ['12h_CDLHARAMI', 0.17379718998120366], ['12h_CDLMORNINGSTAR', -0.19488168001217787], ['2h_CDLONNECK', 0.1991446596954804], ['12h_CDLEVENINGSTAR', -0.2010751415187541], ['2h_CDLBELTHOLD', -0.20116265998259078], ['2h_CDLIDENTICAL3CROWS', -0.20468982146891002], ['2h_CDLDOJISTAR', 0.21237202299570163], ['2h_CDLLONGLEGGEDDOJI', 0.22873169564246323], ['2h_MFI', 0.22890591954759862], ['2h_CDLMATCHINGLOW', 0.23055667201067973], ['12h_CDLHARAMICROSS', -0.23868380636825892], ['2h_STOCH', -0.24394812410592065], ['2h_CDL2CROWS', 0.25215048109840554], ['2h_CDLMARUBOZU', 0.2612917070690703], ['12h_STOCH', -0.26226537243032516], ['12h_CDLTAKURI', 0.26245561759361535], ['12h_CDLHIKKAKEMOD', 0.27262559741567266], ['2h_CDLXSIDEGAP3METHODS', -0.27348961804492633], ['12h_CDLTRISTAR', 0.2745188839317273], ['12h_ULTOSC', -0.2997276128818435], ['12h_PPO2', 0.31428659491582467], ['12h_CDLDRAGONFLYDOJI', -0.3183363008961313], ['12h_CDLEVENINGDOJISTAR', -0.32192706400648596], ['12h_CDLINVERTEDHAMMER', -0.32485229642030033], ['2h_CDLPIERCING', 0.3251909906513806], ['12h_CDLGAPSIDESIDEWHITE', 0.32802059489866114], ['2h_CDLHARAMICROSS', 0.32867844760518705], ['2h_ADX', 0.34059103948781166], ['12h_CDLMORNINGDOJISTAR', -0.3634209813754601], ['2h_HT_DCPERIOD', 0.3657380833676169], ['2h_HT_DCPHASE', -0.3729983103784159], ['12h_CDLPIERCING', 0.38910052594286726], ['12h_CDLRICKSHAWMAN', 0.3953087643619167], ['2h_CDLMORNINGDOJISTAR', -0.3957687515947045], ['2h_CDLLONGLINE', -0.4091581649585763], ['12h_CDLHOMINGPIGEON', -0.414343927537707], ['12h_HT_DCPERIOD', 0.427751043677984], ['12h_CDLMATCHINGLOW', 0.4414583224379198], ['12h_CDLSHOOTINGSTAR', 0.47882703582497216], ['12h_CDLGRAVESTONEDOJI', 0.5561175295266274], ['2h_CDLSTALLEDPATTERN', -0.5595963816911543], ['12h_CDL2CROWS', 0.5682510708160035], ['2h_CDLHIKKAKEMOD', 0.5775160699692192], ['2h_CDLTHRUSTING', 0.5817345150643239], ['12h_CDLTASUKIGAP', -0.6100343679882801], ['2h_CDLRISEFALL3METHODS', -0.6424410595267579], ['2h_STOCHRSI', 0.6510805014500752], ['2h_PPO1', -0.6650483563291627], ['12h_CDLUNIQUE3RIVER', 0.7731707004654746], ['2h_CDLTASUKIGAP', -0.8272682237533966], ['12h_CMO', 0.8697940192867427], ['2h_PPO2', 0.9184841507912019], ['2h_STOCHF', -0.9873965143979972], ['12h_CCI', 1.1361434228560123], ['12h_PPO1', -1.1545716300558069], ['2h_CDL3BLACKCROWS', 1.1678274689819157], ['2h_CMO', -1.184695320525832], ['2h_RSI', -1.217982319019581], ['2h_WILLR', -1.2894636323011401], ['2h_ULTOSC', 1.6171715147861818], ['2h_CCI', 1.6759748000211567], ['2h_HT_PHASOR', 1.770966094776046]]
  }, {
    model: 'RandomForestClassifer',
    performance: 8.9,
    up: 0.764,
    down: 0.271,
    data: [['2h_CDLMATHOLD', 0.0], ['2h_CDLBREAKAWAY', 0.0], ['2h_CDLDOJISTAR', 0.0], ['2h_CDLSHOOTINGSTAR', 0.0], ['2h_CDLHIKKAKEMOD', 0.0], ['2h_CDLLADDERBOTTOM', 0.0], ['2h_CDLRISEFALL3METHODS', 0.0], ['2h_CDLGRAVESTONEDOJI', 0.0], ['2h_CDLHANGINGMAN', 0.0], ['2h_CDLTASUKIGAP', 0.0], ['2h_CDLCONCEALBABYSWALL', 0.0], ['2h_CDLXSIDEGAP3METHODS', 0.0], ['2h_CDLINVERTEDHAMMER', 0.0], ['2h_CDLADVANCEBLOCK', 0.0], ['2h_CDL2CROWS', 0.0], ['2h_CDL3LINESTRIKE', 0.0], ['2h_CDLSTALLEDPATTERN', 0.0], ['2h_CDL3BLACKCROWS', 0.0], ['2h_CDLUNIQUE3RIVER', 0.0], ['2h_CDL3WHITESOLDIERS', 0.0], ['2h_CDLKICKING', 0.0], ['2h_CDLKICKINGBYLENGTH', 0.0], ['2h_CDLIDENTICAL3CROWS', 0.0], ['2h_CDLTRISTAR', 0.0], ['2h_CDL3OUTSIDE', 0.0], ['2h_CDLMATCHINGLOW', 0.0], ['2h_CDLGAPSIDESIDEWHITE', 0.0], ['2h_CDLDARKCLOUDCOVER', 0.0], ['2h_CDLMORNINGSTAR', 0.0], ['2h_CDL3INSIDE', 0.0], ['2h_CDLINNECK', 0.0], ['2h_CDLONNECK', 0.0], ['2h_CDLCOUNTERATTACK', 0.0], ['2h_CDLHARAMICROSS', 0.0], ['2h_CDL3STARSINSOUTH', 0.0], ['2h_CDLEVENINGDOJISTAR', 0.0], ['2h_CDLMORNINGDOJISTAR', 0.0], ['2h_CDLUPSIDEGAP2CROWS', 0.0], ['2h_CDLSEPARATINGLINES', 0.0], ['2h_CDLTHRUSTING', 0.0], ['2h_CDLHOMINGPIGEON', 0.0], ['2h_CDLPIERCING', 0.0], ['2h_CDLABANDONEDBABY', 0.0], ['2h_CDLEVENINGSTAR', 0.0], ['2h_CDLSTICKSANDWICH', 0.0], ['12h_CDLMATHOLD', 0.0], ['12h_CDLBREAKAWAY', 0.0], ['12h_CDLDOJISTAR', 0.0], ['12h_CDLSHOOTINGSTAR', 0.0], ['12h_CDLHIKKAKEMOD', 0.0], ['12h_CDLLADDERBOTTOM', 0.0], ['12h_CDLRISEFALL3METHODS', 0.0], ['12h_CDLGRAVESTONEDOJI', 0.0], ['12h_CDLTASUKIGAP', 0.0], ['12h_CDLCONCEALBABYSWALL', 0.0], ['12h_CDLXSIDEGAP3METHODS', 0.0], ['12h_CDLHAMMER', 0.0], ['12h_CDLINVERTEDHAMMER', 0.0], ['12h_CDLADVANCEBLOCK', 0.0], ['12h_CDL2CROWS', 0.0], ['12h_CDL3LINESTRIKE', 0.0], ['12h_CDLSTALLEDPATTERN', 0.0], ['12h_CDLTAKURI', 0.0], ['12h_CDL3BLACKCROWS', 0.0], ['12h_CDLUNIQUE3RIVER', 0.0], ['12h_CDL3WHITESOLDIERS', 0.0], ['12h_CDLENGULFING', 0.0], ['12h_CDLKICKING', 0.0], ['12h_CDLKICKINGBYLENGTH', 0.0], ['12h_CDLIDENTICAL3CROWS', 0.0], ['12h_CDLTRISTAR', 0.0], ['12h_CDL3OUTSIDE', 0.0], ['12h_CDLMATCHINGLOW', 0.0], ['12h_CDLGAPSIDESIDEWHITE', 0.0], ['12h_CDLDARKCLOUDCOVER', 0.0], ['12h_CDLMORNINGSTAR', 0.0], ['12h_CDL3INSIDE', 0.0], ['12h_CDLINNECK', 0.0], ['12h_CDLONNECK', 0.0], ['12h_CDLCOUNTERATTACK', 0.0], ['12h_CDLHARAMICROSS', 0.0], ['12h_CDL3STARSINSOUTH', 0.0], ['12h_CDLEVENINGDOJISTAR', 0.0], ['12h_CDLMORNINGDOJISTAR', 0.0], ['12h_CDLUPSIDEGAP2CROWS', 0.0], ['12h_CDLSEPARATINGLINES', 0.0], ['12h_CDLTHRUSTING', 0.0], ['12h_CDLHOMINGPIGEON', 0.0], ['12h_CDLPIERCING', 0.0], ['12h_CDLABANDONEDBABY', 0.0], ['12h_CDLEVENINGSTAR', 0.0], ['12h_CDLSTICKSANDWICH', 0.0], ['12h_CDLDRAGONFLYDOJI', 3.518012812909512e-05], ['2h_CDLTAKURI', 9.580125412890372e-05], ['12h_CDLHANGINGMAN', 0.0001468801726882232], ['2h_CDLDRAGONFLYDOJI', 0.0001617033625283365], ['12h_CDLHARAMI', 0.0002115003809572444], ['12h_CDLHIGHWAVE', 0.0002187553999055074], ['12h_CDLMARUBOZU', 0.00022827024639948017], ['2h_CDLHAMMER', 0.00030258129939067215], ['12h_CDLCLOSINGMARUBOZU', 0.0004288232255992445], ['2h_CDLRICKSHAWMAN', 0.0004620246446382284], ['2h_CDLHARAMI', 0.00051373757922485], ['12h_CDLSPINNINGTOP', 0.0005219023923823332], ['2h_CDLHIGHWAVE', 0.000637526737622254], ['2h_CDLLONGLEGGEDDOJI', 0.0006498048298774242], ['12h_CDLLONGLEGGEDDOJI', 0.0006611568239867864], ['12h_HT_TRENDMODE', 0.0007084979512787184], ['12h_CDLLONGLINE', 0.0007146772518008718], ['12h_CDLRICKSHAWMAN', 0.0007711206418534955], ['2h_CDLENGULFING', 0.0009959193135586901], ['2h_CDLSPINNINGTOP', 0.0011119129509835075], ['2h_CDLDOJI', 0.0011961986306134118], ['12h_CDLHIKKAKE', 0.0012657499223417226], ['12h_CDLDOJI', 0.0013392149664783418], ['12h_CDLBELTHOLD', 0.0015052635206983822], ['12h_CDLSHORTLINE', 0.0016481563839429744], ['2h_CDLSHORTLINE', 0.0016905746869643754], ['2h_CDLHIKKAKE', 0.0019423355089722087], ['2h_CDLMARUBOZU', 0.0031294335821718472], ['2h_HT_TRENDMODE', 0.004660846299509167], ['2h_CDLLONGLINE', 0.007061793382313584], ['2h_CDLCLOSINGMARUBOZU', 0.009467846263767968], ['12h_AROONOSC', 0.011274616922037836], ['12h_HT_PHASOR', 0.01453925757417426], ['2h_CDLBELTHOLD', 0.015860810115229208], ['12h_ADX', 0.016203383738903013], ['12h_STOCHF', 0.016511767099188196], ['2h_AROONOSC', 0.016908061291068015], ['2h_DX', 0.01803200656689309], ['12h_STOCHRSI', 0.019238077601045317], ['2h_ADX', 0.020111976979412267], ['12h_STOCH', 0.020140574965023195], ['12h_DX', 0.020175840105282453], ['2h_PPO1', 0.02066708156467577], ['12h_WILLR', 0.020795609081532315], ['12h_HT_DCPERIOD', 0.02193830424419609], ['12h_HT_SINE', 0.02299586760874611], ['12h_PPO1', 0.023709791852057842], ['12h_MFI', 0.023805928918557717], ['12h_HT_DCPHASE', 0.024139527918426246], ['12h_ULTOSC', 0.0248407221451051], ['12h_CCI', 0.02489376293042076], ['2h_CCI', 0.025169240791544784], ['2h_TRIX', 0.025615212799137203], ['2h_MFI', 0.0257899889946091], ['2h_ULTOSC', 0.026231345690333495], ['2h_RSI', 0.026435036813157266], ['2h_HT_DCPERIOD', 0.026704565860606103], ['2h_HT_DCPHASE', 0.027146120558799076], ['2h_CMO', 0.027416145359273343], ['2h_PPO2', 0.027419992819313874], ['12h_CMO', 0.028032508293940425], ['12h_PPO2', 0.02822661828188017], ['2h_STOCHRSI', 0.02833109695704975], ['2h_HT_SINE', 0.028432282881418906], ['12h_RSI', 0.029731494849986814], ['2h_HT_PHASOR', 0.03084594654547924], ['12h_TRIX', 0.03149020505978931], ['2h_STOCH', 0.03200496016540793], ['2h_WILLR', 0.03902513621516563], ['2h_STOCHF', 0.044683942106425005]]
  }, {
    model: 'LinearSVC',
    performance: 7.89,
    up: 0.726,
    down: 0.358,
    data: [['2h_CDLMATHOLD', 0.0], ['2h_CDLKICKING', 0.0], ['2h_CDLKICKINGBYLENGTH', 0.0], ['2h_CDLCOUNTERATTACK', 0.0], ['2h_CDL3STARSINSOUTH', 0.0], ['2h_CDLUPSIDEGAP2CROWS', 0.0], ['2h_CDLABANDONEDBABY', 0.0], ['12h_CDLMATHOLD', 0.0], ['12h_CDLBREAKAWAY', 0.0], ['12h_CDLLADDERBOTTOM', 0.0], ['12h_CDLCONCEALBABYSWALL', 0.0], ['12h_CDL3BLACKCROWS', 0.0], ['12h_CDLKICKING', 0.0], ['12h_CDLKICKINGBYLENGTH', 0.0], ['12h_CDLIDENTICAL3CROWS', 0.0], ['12h_CDLINNECK', 0.0], ['12h_CDLONNECK', 0.0], ['12h_CDLCOUNTERATTACK', 0.0], ['12h_CDL3STARSINSOUTH', 0.0], ['12h_CDLUPSIDEGAP2CROWS', 0.0], ['12h_CDLABANDONEDBABY', 0.0], ['12h_CDLDOJISTAR', 0.0007051941056163136], ['2h_HT_TRENDMODE', -0.00129857795600552], ['2h_CDLEVENINGSTAR', 0.0013371376004388535], ['2h_CDLGRAVESTONEDOJI', 0.0019070132642409199], ['12h_AROONOSC', -0.0020821099430312928], ['12h_MFI', -0.002446253257620162], ['12h_CDLXSIDEGAP3METHODS', 0.002902839595455786], ['2h_HT_SINE', -0.002979713423727426], ['12h_HT_SINE', 0.00324508094207634], ['2h_CDL3OUTSIDE', 0.005104129885975972], ['12h_CDLSTALLEDPATTERN', -0.005504238746958379], ['12h_HT_TRENDMODE', 0.0057217675997346396], ['12h_RSI', 0.007111135210351718], ['12h_DX', 0.010016445203791961], ['12h_ADX', -0.010345274476403257], ['12h_CDLCLOSINGMARUBOZU', -0.010486014767880192], ['12h_CDLHIGHWAVE', 0.010498403046730664], ['12h_CDLLONGLINE', -0.011753163206750794], ['2h_DX', -0.014241662248544442], ['12h_CDLHARAMI', 0.0153098120065992], ['12h_CDLHAMMER', -0.01570061209526763], ['12h_CDLENGULFING', -0.016040986093552534], ['12h_CDLHIKKAKE', 0.016457542221978372], ['2h_CDLENGULFING', 0.016493739834726684], ['12h_CDLBELTHOLD', -0.018222856194564208], ['12h_CDLSPINNINGTOP', -0.018696924874180954], ['12h_CDLSHORTLINE', 0.019124350646726795], ['2h_CDLDARKCLOUDCOVER', 0.019251559804928986], ['12h_CDL3LINESTRIKE', 0.019752868099607857], ['12h_HT_DCPHASE', 0.02043218717224268], ['12h_CDLHANGINGMAN', 0.02101935055787485], ['2h_CDLHANGINGMAN', 0.02175988989137867], ['2h_CDLHARAMI', -0.02256120582750165], ['2h_CDLSHOOTINGSTAR', -0.022950155505864545], ['2h_CDLSEPARATINGLINES', -0.02357750045327589], ['2h_CDLDOJISTAR', 0.02481419173498456], ['12h_STOCH', -0.02502041294992493], ['2h_CDLINVERTEDHAMMER', -0.025620606636932886], ['2h_CDLTAKURI', -0.025947323183245552], ['2h_CDLSHORTLINE', -0.026222009668070312], ['12h_CDL3INSIDE', 0.026538773090108436], ['12h_CDLSEPARATINGLINES', 0.027128807888476603], ['2h_AROONOSC', 0.027658655361860626], ['2h_CDLDOJI', -0.02928538829563021], ['12h_CDLDARKCLOUDCOVER', -0.029687173578781867], ['2h_CDLDRAGONFLYDOJI', 0.0299611986223991], ['12h_CDLADVANCEBLOCK', 0.03026150651352766], ['12h_CDLTHRUSTING', 0.030458257422112056], ['12h_CDLMORNINGSTAR', -0.03049429880761273], ['12h_WILLR', 0.031757704840890716], ['2h_CDLHIGHWAVE', 0.03408086959471146], ['2h_CDLCLOSINGMARUBOZU', -0.03469405675879178], ['12h_CDLLONGLEGGEDDOJI', -0.0365866562881757], ['2h_STOCH', -0.0370450896745343], ['12h_STOCHRSI', -0.039624439892627886], ['2h_CDLGAPSIDESIDEWHITE', -0.04148826554493834], ['2h_CDL3WHITESOLDIERS', -0.04806949935790972], ['2h_CDLLONGLINE', -0.04827823296571088], ['2h_CDLHAMMER', -0.048454072535241366], ['2h_CDLSPINNINGTOP', -0.05029365598944924], ['2h_CDLSTICKSANDWICH', -0.05105450213512275], ['2h_CDLXSIDEGAP3METHODS', -0.05119500958291201], ['12h_CDL3OUTSIDE', -0.05178432228049368], ['2h_CDLHIKKAKE', 0.05383797219186509], ['2h_CDLHARAMICROSS', 0.054237132622378836], ['2h_CDLEVENINGDOJISTAR', 0.055217457622934174], ['12h_CDLMARUBOZU', 0.0580389150827918], ['2h_CDLADVANCEBLOCK', 0.05904940209797349], ['2h_CDL3INSIDE', 0.060329770720871645], ['2h_CDLRICKSHAWMAN', -0.0603532638983969], ['12h_CDLDOJI', -0.06151751970357544], ['12h_CDLEVENINGSTAR', -0.06644112581101558], ['2h_HT_DCPHASE', -0.06673224125831884], ['2h_CDLLONGLEGGEDDOJI', 0.06894379161226871], ['2h_CDLMARUBOZU', 0.07042402554090627], ['12h_CDLHARAMICROSS', -0.0731609556622107], ['12h_CDLRICKSHAWMAN', 0.07413266863370005], ['2h_CDLBELTHOLD', -0.07746552786974037], ['12h_CDL3WHITESOLDIERS', 0.07837925616197733], ['2h_CDLTRISTAR', -0.07952908466628261], ['2h_CMO', -0.08025409566842104], ['2h_CDL3LINESTRIKE', -0.08132066709033725], ['12h_CDLDRAGONFLYDOJI', -0.08430449980023369], ['2h_ADX', 0.09043647635515452], ['2h_CDLHOMINGPIGEON', 0.09401754055461231], ['2h_MFI', 0.09770716637898755], ['2h_CDLMORNINGSTAR', 0.0990500858994795], ['12h_CDLINVERTEDHAMMER', -0.10357983015136785], ['12h_ULTOSC', -0.10559154881062377], ['12h_CDLGAPSIDESIDEWHITE', 0.11183795269555807], ['2h_CDLMATCHINGLOW', 0.11572824019916528], ['12h_CDLTAKURI', 0.11730815283091378], ['12h_HT_PHASOR', 0.11797772977449915], ['12h_CDLSTICKSANDWICH', -0.11799755326674172], ['12h_CDLMATCHINGLOW', 0.1185803291344163], ['2h_CDLPIERCING', 0.12066501225706205], ['12h_CDLMORNINGDOJISTAR', -0.1254854062226981], ['12h_HT_DCPERIOD', 0.12836652370801752], ['12h_STOCHF', 0.13139349347404977], ['12h_CDLHIKKAKEMOD', 0.13473721654120907], ['2h_HT_DCPERIOD', 0.141631434695155], ['12h_PPO2', 0.14198419906120643], ['2h_CDLLADDERBOTTOM', 0.14580794288877463], ['12h_CDLSHOOTINGSTAR', 0.15016014341837713], ['2h_CDL2CROWS', 0.15232116214077873], ['12h_CDLEVENINGDOJISTAR', -0.15806359366681777], ['12h_CDLGRAVESTONEDOJI', 0.1602713367006401], ['2h_CDLTHRUSTING', 0.17253990952242038], ['2h_CDLUNIQUE3RIVER', 0.17878520393456426], ['12h_CDLTRISTAR', 0.18761263321244392], ['12h_CDLHOMINGPIGEON', -0.1950158770942917], ['2h_CDLSTALLEDPATTERN', -0.19833328138565098], ['2h_CDLONNECK', 0.20644966266793818], ['2h_STOCHRSI', 0.20765546616946126], ['12h_CDLRISEFALL3METHODS', 0.21023729104572908], ['2h_CDLINNECK', -0.23546930742799077], ['2h_CDLMORNINGDOJISTAR', -0.2428623761626988], ['2h_STOCHF', -0.24694312389456502], ['2h_CDLIDENTICAL3CROWS', -0.24828816618851046], ['2h_CDLHIKKAKEMOD', 0.25604191442276336], ['12h_CDL2CROWS', 0.3016389431767149], ['12h_CMO', 0.3473719756461872], ['12h_CDLTASUKIGAP', -0.36708228372918084], ['2h_CDLTASUKIGAP', -0.36715239251266674], ['2h_WILLR', -0.38667722227804413], ['12h_CDLPIERCING', 0.4540149251047687], ['12h_TRIX', -0.47791356544584057], ['2h_CDLRISEFALL3METHODS', -0.5140303640950318], ['12h_CCI', 0.5511427773670614], ['12h_CDLUNIQUE3RIVER', 0.573642843688891], ['2h_CDLCONCEALBABYSWALL', 0.594378769557557], ['2h_ULTOSC', 0.6132862338137712], ['2h_PPO2', 0.6532692719156086], ['2h_TRIX', 0.7637428672489253], ['2h_CCI', 0.8205073418495358], ['2h_PPO1', -0.8500048262454559], ['2h_CDL3BLACKCROWS', 0.8882906846652598], ['2h_CDLBREAKAWAY', -0.9361260045596477], ['12h_PPO1', -0.959369139235711], ['2h_RSI', -1.1792385198683581], ['2h_HT_PHASOR', 2.0186146217621164]]
  }, {
    model: 'XGBClassifier',
    performance: 12.57,
    up: 0.618,
    down: 0.469,
    data: [['2h_CDLMATHOLD', 0.0], ['2h_CDLBREAKAWAY', 0.0], ['2h_CDLDOJISTAR', 0.0], ['2h_CDLHIKKAKEMOD', 0.0], ['2h_CDLLADDERBOTTOM', 0.0], ['2h_CDLRISEFALL3METHODS', 0.0], ['2h_CDLCONCEALBABYSWALL', 0.0], ['2h_CDL2CROWS', 0.0], ['2h_CDL3LINESTRIKE', 0.0], ['2h_CDL3BLACKCROWS', 0.0], ['2h_CDLUNIQUE3RIVER', 0.0], ['2h_CDLKICKING', 0.0], ['2h_CDLKICKINGBYLENGTH', 0.0], ['2h_CDLIDENTICAL3CROWS', 0.0], ['2h_CDLTRISTAR', 0.0], ['2h_CDLGAPSIDESIDEWHITE', 0.0], ['2h_CDLDARKCLOUDCOVER', 0.0], ['2h_CDLMORNINGSTAR', 0.0], ['2h_CDLINNECK', 0.0], ['2h_CDLONNECK', 0.0], ['2h_CDLCOUNTERATTACK', 0.0], ['2h_CDL3STARSINSOUTH', 0.0], ['2h_CDLEVENINGDOJISTAR', 0.0], ['2h_CDLMORNINGDOJISTAR', 0.0], ['2h_CDLUPSIDEGAP2CROWS', 0.0], ['2h_CDLHOMINGPIGEON', 0.0], ['2h_CDLPIERCING', 0.0], ['2h_CDLABANDONEDBABY', 0.0], ['2h_CDLSTICKSANDWICH', 0.0], ['12h_CDLMATHOLD', 0.0], ['12h_CDLBREAKAWAY', 0.0], ['12h_CDLHIKKAKEMOD', 0.0], ['12h_CDLLADDERBOTTOM', 0.0], ['12h_CDLRISEFALL3METHODS', 0.0], ['12h_CDLTASUKIGAP', 0.0], ['12h_CDLCONCEALBABYSWALL', 0.0], ['12h_CDLINVERTEDHAMMER', 0.0], ['12h_CDL2CROWS', 0.0], ['12h_CDL3LINESTRIKE', 0.0], ['12h_CDLSTALLEDPATTERN', 0.0], ['12h_CDL3BLACKCROWS', 0.0], ['12h_CDLUNIQUE3RIVER', 0.0], ['12h_CDL3WHITESOLDIERS', 0.0], ['12h_CDLKICKING', 0.0], ['12h_CDLKICKINGBYLENGTH', 0.0], ['12h_CDLIDENTICAL3CROWS', 0.0], ['12h_CDLTRISTAR', 0.0], ['12h_CDLGAPSIDESIDEWHITE', 0.0], ['12h_CDLMORNINGSTAR', 0.0], ['12h_CDLINNECK', 0.0], ['12h_CDLONNECK', 0.0], ['12h_CDLCOUNTERATTACK', 0.0], ['12h_CDL3STARSINSOUTH', 0.0], ['12h_CDLEVENINGDOJISTAR', 0.0], ['12h_CDLMORNINGDOJISTAR', 0.0], ['12h_CDLUPSIDEGAP2CROWS', 0.0], ['12h_CDLTHRUSTING', 0.0], ['12h_CDLHOMINGPIGEON', 0.0], ['12h_CDLPIERCING', 0.0], ['12h_CDLABANDONEDBABY', 0.0], ['12h_CDLEVENINGSTAR', 0.0], ['12h_CDLSTICKSANDWICH', 0.0], ['2h_CDLHARAMICROSS', 0.0017391085], ['2h_CDLXSIDEGAP3METHODS', 0.0026703614], ['2h_CDL3WHITESOLDIERS', 0.0049547385], ['12h_CDLHARAMICROSS', 0.006116293], ['12h_HT_TRENDMODE', 0.0061506913], ['12h_CDLGRAVESTONEDOJI', 0.006718129], ['2h_HT_DCPERIOD', 0.006744384], ['2h_CDLTHRUSTING', 0.0068080905], ['2h_CDL3INSIDE', 0.006844308], ['12h_DX', 0.0068921284], ['2h_CDLTASUKIGAP', 0.0070326924], ['12h_ADX', 0.0070992648], ['12h_HT_DCPHASE', 0.0073046223], ['12h_CDLHAMMER', 0.0073308605], ['12h_CDL3INSIDE', 0.0074531767], ['12h_WILLR', 0.007454603], ['2h_CMO', 0.007484344], ['12h_PPO1', 0.007510935], ['12h_CDLLONGLEGGEDDOJI', 0.0075140037], ['2h_PPO2', 0.007524774], ['12h_RSI', 0.0076096873], ['2h_ADX', 0.0076750712], ['12h_CCI', 0.007745791], ['12h_CDLDRAGONFLYDOJI', 0.007746291], ['12h_HT_SINE', 0.007758133], ['12h_STOCHF', 0.007826242], ['12h_CDLBELTHOLD', 0.007834388], ['2h_CDLMATCHINGLOW', 0.007864183], ['12h_TRIX', 0.007912021], ['2h_STOCHF', 0.007925613], ['12h_HT_PHASOR', 0.007961343], ['2h_MFI', 0.007967982], ['12h_ULTOSC', 0.007985881], ['12h_PPO2', 0.008015514], ['2h_WILLR', 0.008030714], ['12h_CDLLONGLINE', 0.008055876], ['2h_HT_SINE', 0.008155716], ['2h_ULTOSC', 0.008169167], ['2h_DX', 0.008172688], ['2h_STOCHRSI', 0.008172868], ['2h_HT_DCPHASE', 0.008253407], ['12h_AROONOSC', 0.00837656], ['2h_AROONOSC', 0.008447013], ['12h_HT_DCPERIOD', 0.008499744], ['2h_PPO1', 0.008515037], ['2h_STOCH', 0.008561264], ['12h_MFI', 0.008597082], ['2h_TRIX', 0.008598709], ['12h_STOCH', 0.008719588], ['12h_STOCHRSI', 0.008735583], ['2h_HT_TRENDMODE', 0.008811087], ['12h_CDLRICKSHAWMAN', 0.008826421], ['2h_HT_PHASOR', 0.008927663], ['12h_CDLMATCHINGLOW', 0.00896993], ['2h_CCI', 0.009172719], ['2h_CDLHARAMI', 0.009187829], ['12h_CDLMARUBOZU', 0.009399981], ['12h_CMO', 0.009647711], ['2h_CDLSHORTLINE', 0.009753032], ['2h_CDLENGULFING', 0.0097931335], ['2h_CDLCLOSINGMARUBOZU', 0.009877941], ['12h_CDLDOJI', 0.009880465], ['12h_CDLHIKKAKE', 0.009975562], ['2h_CDLHIGHWAVE', 0.009976349], ['12h_CDLCLOSINGMARUBOZU', 0.010098745], ['12h_CDLSPINNINGTOP', 0.01028659], ['12h_CDLDARKCLOUDCOVER', 0.010299606], ['12h_CDLSHORTLINE', 0.010336074], ['2h_CDLRICKSHAWMAN', 0.010392776], ['2h_CDLHIKKAKE', 0.010439168], ['2h_CDLDOJI', 0.010553823], ['2h_CDLHANGINGMAN', 0.01057511], ['12h_CDL3OUTSIDE', 0.0106982], ['2h_CDLGRAVESTONEDOJI', 0.010865725], ['12h_CDLHIGHWAVE', 0.010880766], ['12h_CDLHARAMI', 0.011367543], ['2h_CDLDRAGONFLYDOJI', 0.011402754], ['2h_CDLHAMMER', 0.011561077], ['12h_CDLENGULFING', 0.011614598], ['2h_RSI', 0.01169088], ['2h_CDLLONGLEGGEDDOJI', 0.01212931], ['12h_CDLADVANCEBLOCK', 0.01279526], ['2h_CDLSTALLEDPATTERN', 0.0129304305], ['2h_CDLMARUBOZU', 0.013113995], ['12h_CDLTAKURI', 0.013276949], ['12h_CDLSHOOTINGSTAR', 0.013508402], ['2h_CDLSPINNINGTOP', 0.013724369], ['12h_CDLXSIDEGAP3METHODS', 0.014061773], ['2h_CDLSEPARATINGLINES', 0.014540767], ['2h_CDL3OUTSIDE', 0.014554604], ['2h_CDLLONGLINE', 0.0150164105], ['2h_CDLTAKURI', 0.015505098], ['12h_CDLHANGINGMAN', 0.016567245], ['2h_CDLADVANCEBLOCK', 0.016685594], ['2h_CDLINVERTEDHAMMER', 0.017416788], ['2h_CDLSHOOTINGSTAR', 0.017783737], ['2h_CDLBELTHOLD', 0.019352026], ['12h_CDLDOJISTAR', 0.019794088], ['12h_CDLSEPARATINGLINES', 0.019986678], ['2h_CDLEVENINGSTAR', 0.028756559]]
  }];

  function showTable(tableData) {
    let tableString = '<table>';

    // table headers/modelNames
    tableString += '<tr>';
    tableString += Object.keys(tableData[0]).map(modelName => {
      return `<td><span class='sorting' onclick="sortByModel('${modelName}', 'up');">Up </span>${modelName}<span class='sorting' onclick="sortByModel('${modelName}', 'down');"> Down</span></td>`;
    }).join('');
    tableString += '</tr>';

    // table body/model performance data
    tableData.forEach(feature => {
      tableString += '<tr>';
      tableString += Object.keys(feature).map(modelName => {
        return `<td>${feature[modelName]}</td>`;
      }).join('');
      tableString += '</tr>';
    });

    tableString += '</table>';

    document.querySelector('#tableContainer').innerHTML = tableString;
  }

  function showDefaultTable() {
    showModelPerformance();

    computeFeatures();
    const tableData = _.sortBy(featureArray, (v) => { return Math.abs(v.Total); });
    showTable(tableData);
  }

  function showModelPerformance() {
    let tableString = '<table>';
    tableString += '<tr><td>ModelName</td><td>Up Correct Ratio</td><td>Down Correct Ratio</td></tr>';
    fs.forEach(m => {
      const { model, performance, up, down } = m;
      tableString += '<tr>';
      tableString += `<td>${model}</td>`;
      tableString += `<td>${performance}</td>`;
      tableString += `<td>${up}</td>`;
      tableString += `<td>${down}</td>`;
      tableString += `</tr>`;
    });
    tableString += '</table>';

    document.querySelector('#modelPeformance').innerHTML = tableString;
  }

  function sortByModel(modelName, direction) {
    let tableData = _.sortBy(featureArray, (v) => { return Math.abs(v[modelName]); });
    if (direction === 'down')
      tableData = tableData.reverse();

    showTable(tableData);
  }

  function computeFeatures() {
    const features = {};
    fs.forEach(m => {
      const { model, data } = m;
      const ratio = H100_WEIGHTS.includes(model) ? 100 : 1;
      data.forEach(d => {
        const featureName = d[0];
        const featureValue = d[1] * ratio;
        if (!features[featureName]) features[featureName] = {};
        features[featureName][model] = featureValue;
      });
    });

    // compute total and then convert the object to array
    Object.keys(features).forEach(featureName => {
      const feature = features[featureName];
      feature['Total'] = Object.keys(feature)
        .map(modelName => feature[modelName])
        .reduce(function (prev, curr, idx, arr) {
          return Math.abs(prev) + Math.abs(curr);
        });
      feature['FeatureName'] = featureName;
    });

    featureArray = Object.keys(features).map(featureName => features[featureName]);
  }

</script>

</html>